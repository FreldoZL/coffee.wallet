<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Security-Policy"
        content="default-src * data: gap: file: https://* 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; media-src *; img-src 'self' data: content:;">
        <meta name="format-detection" content="telephone=no">
        <meta name="msapplication-tap-highlight" content="no">
        <meta name="viewport" content="viewport-fit=cover, user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">
        <link rel="stylesheet" type="text/css" href="css/index.css">
        <link rel="stylesheet" type="text/css" href="css/layout.css">
        <link rel="stylesheet" type="text/css" href="css/ui.css">
	      <title>coffee.wallet</title>
    </head>
    <body>
        <div id="nav">
          <div id="toggleMenu" ontouchstart="app.toggleMenu()" class="button">
            <img src="icons/menu.png" alt="menu"/>
          </div>
          <div id="menu">
            <ul>
              <li>
                <a href="javascript:app.popupAddCoin()">
                  <img src="icons/plus.png"/>
                  add&nbsp;currencies
                </a>
              </li>
              <li>
                <a href="javascript:app.popupPriceSettings()">
                  <img src="icons/money.png"/>
                  price&nbsp;settings
                </a>
              </li>
              <!--li>
                <a href="javascript:app.popupSettings()">
                  <img src="icons/settings.png"/>
                  coin settings
                </a>
              </li-->
              <li>
                <a href="javascript:app.popupHelp()">
                  <img src="icons/help.png"/>
                  help
                </a>
              </li>
              <li>
                <a id="feedback" href="javascript:app.popupFeedback()">
                  <img src="icons/heart.png"/>
                  feedback
                </a>
              </li>
              <li>
                <a href="javascript:app.exportAllKeys()">
                  <img src="icons/export.png"/>
                  backup wallets
                </a>
              </li>
              <!--li>
                <a href="javascript:app.importAllKeys()">
                  <img src="icons/import.png"/>
                  restore wallets
                </a>
              </li-->
            </ul>
          </div>

          <a id="refresh" href="javascript:app.updateMarketCap()" class="button spinner">
            <img src="icons/refreshall.png" alt="refresh"/>
          </a>

          <div class="totals">
            <h1>
              <span id="grandTotal"></span>
            </h1>
            <h2>
              (<span id="totalOnline"></span> online)
            </h2>
          </div>

        </div>
        <div id="container">
          <div id="swiper">
            <div class="swipe_tab">
              <div class="tab_inner">
                <ul id="history">
                  <li class="info">loading history ...</li>
                </ul>
              </div>
            </div>
            <div class="swipe_tab">
              <div id="wallets" class="tab_inner">
                <div id="walletsList">
                </div>
          	    <div onclick="app.popupAddCoin()" class="walletsActions">
                    add currencies
          	    </div>
              </div>
            </div>
            <div class="swipe_tab">
              <div class="tab_inner">
                <div id="tools">
                  <div class="row">
                    <button class="f1 stitched" onclick="app.scanQrCode(app.handleAnyQRCode.bind(app))" style="margin-right:5px;">
                      <img src="icons/quickscan.png"/>
                      Scan
                    </button>

                    <button class="f1 stitched" onclick="app.pasteClipboard(app.handleAnyQRCode.bind(app))" style="margin-left:5px;">
                      <img src="icons/quickpaste.png"/>
                      Paste
                    </button>
                  </div>

                  <button class="stitched" disabled="disabled">
                    <img src="icons/email.png"/>
                    Send via Email
                    <span class="soon">(comming soon)</span>
                  </button>

                  <button class="stitched" disabled="disabled">
                    <img src="icons/shapeshift.png"/>
                    Exchange
                    <span class="soon">(comming soon)</span>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
    <div id="foot">
      <div ontouchstart="app.tabHistory()" class="tab">
        <img src="icons/history.png" alt="history"/>
        <br/>
        history
      </div>
      <div ontouchstart="app.tabWallets()" class="tab active">
        <img src="icons/home.png" alt="wallets"/>
        <br/>
        wallets
      </div>
      <div ontouchstart="app.tabTools()" class="tab">
       <img src="icons/tools.png" alt="tools"/>
       <br/>
       tools
     </div>
    </div>
	<div id="overlay">
        </div>

        <div id="popup">
          <h1 id="popupHead">
            <a href="javascript:app.closePopup()" class="close"><img src="icons/hide.png"/></a>
            <span id="popupTitle"></span>
            <img id="popupIcon" src="icons/hide.png" style="display:none;"/>
          </h1>
          <div id="popupContent">
            <div id="coinInfoPopup" style="display:none;">
              <div class="rowIcon active"><img class="coinIcon coinBig" src=""/></div>
              <div id="coinInfoDescription"></div>
            </div>
            <div id="offlineAssetsPopup" style="display:none;">
              <div class="rowIcon active"><img class="coinIcon coinBig" src=""/></div>

              <h2 style="text-align:center;">offline assets</h2>
              <div class="unpad">
                <div id="offlineAssets">

                </div>
              </div>

              <div class="spacing">&nbsp;</div>
              <div class="row spacing">
                <button class="box f1" onclick="app.popupAddOfflineAsset('balance', '')">
                  add balance
                </button>
                <button id="addBalanceButtons" class="box f1" onclick="app.popupAddOfflineAsset('addr', '')">
                  add address
                </button>
              </div>
            </div>

            <div id="priceSettingsPopup" style="display:none;">
              <h2>Fiat Currency</h2>
              <select id="priceProvider">
              </select>
              <select id="priceUnit">
              </select>
              <div class="actions">
                <button class="box icon-save" onclick="app.savePriceSettings()">
                  Save
                </button>
              </div>
            </div>
            <div id="addCoinPopup" style="display:none;">
              <div style="padding:0 7px 20px 7px">
                <div class="field dark" style="padding-bottom: 15px;">
                  <input id="addCoinFilter" value="" required/>
                  <label for="addCoinFilter">search</label>
                </div>
                <label class="checkbox" style="padding-bottom: 10px;">
                  <input type="checkbox" id="addCoinOnlySupportedRead" />
                  <div class="fakecheck"></div>
                  only coins that can be queried by address
                </label>
                <label class="checkbox">
                  <input type="checkbox" id="addCoinOnlySupportedWrite" />
                  <div class="fakecheck"></div>
                  only coins with full wallet support
                </label>
              </div>
              <div id="allCoins"></div>
              <div id="moreCoins"></div>
            </div>
            <div id="helpPopup" style="display:none;">
              <h2>Coffee Wallet</h2>
              <p>
                Coffee Wallet is a blockchain wallet and portfolio app.
                It allows you to watch your funds stored elsewhere (paper/hardware/app/online wallets).
                It also has a support for selected coins to send and receive from local wallet.
              </p>
              <h2>Home Screen Layout</h2>
                <img src="img/help1.png" style="width:100%;" />
                <ol>
                  <li>Coin icon. Tap to activate row and see options. Tap again to see coin info and advanced options.</li>

                  <li>Offline total. Total amount of read-only, offline balances you watch.</li>
                  <li>Offline funds. Tap to see and edit your offline wallets and balances.</li>
                  <li>Refresh button. Tap to refresh online and offile totals.</li>

                  <li>Online total. Balance of your local wallets. Private keys to this wallets are stored on your device.</li>
                  <li>Receive button. Tap to see local address and its QR code.</li>
                  <li>Send button. Tap to see send form and send your funds from your wallet.</li>

                  <li>Grand total. Total sum of all your offline and online funds.</li>
                  <li>Menu with advanced options. Change price source and default currency here.</li>
                  <li>Refresh all. Fetch rates from prices source and refresh all wallets balances. </li>
                </ol>
              <h2>More Info</h2>
              <p>
                For more information. please refer to online docs.
              </p>
            </div>
            <div id="feedbackPopup" style="display:none;">
              <h2>Coffee Wallet</h2>
              <h3>Version: <strong><span class="VERSION">0.1.8</span></strong></h3>

              <a href="#" onclick="window.open('https://wallet.coffee/', '_system');">https://wallet.coffee/</a>
            </div>
          </div>
        </div>

        <div id="formPopup">
          <div id="addOfflineAssetPopup" class="formContent" style="display:none;">
            <div class="formTop">
              <div class="circleIcon active"><img class="coinIcon coinBig" src=""/></div>
              <img class="actionLeft" src="icons/cancel.png"/>
              <img class="actionRight" src="icons/submit.png"/>
            </div>
            <div class="formActions row">
              <button class="f1 cancel" onclick="app.closeForm()"><img src="icons/ico.cancel.png"/> cancel</button>
              <button class="f1 submit" onclick="app.saveOfflineAsset()"><span id="addOfflineAssetPopupSave">save</span> <img src="icons/ico.send.png"/></button>
            </div>

            <div id="addOfflineAssetAddrDiv">
              <div class="formButtons row">
                <button class="f1" onclick="app.pasteClipboard(app.pasteToField.bind(app, 'addOfflineAssetAddr'))">
                  paste
                  <img src="icons/paste.png"/>
                </button>
                <button class="f1" onclick="app.scanQrCode(app.pasteToField.bind(app, 'addOfflineAssetAddr'))">
                  <img src="icons/scan.png"/>
                  scan
                </button>
              </div>

              <div class="formFields">
                <div class="field">
                  <input id="addOfflineAssetAddr" value="" required />
                  <label for="addOfflineAssetAddr">address</label>
                </div>
              </div>
            </div>

            <div class="formFields">
              <div id="addOfflineAssetBalanceDiv" class="field">
                <input type="number" min="0" step="0.000000000001" id="addOfflineAssetBalance" value="" required />
                <label for="addOfflineAssetBalance">balance</label>
              </div>
              <div class="field">
                <input id="addOfflineAssetComment" value="" required />
                <label for="addOfflineAssetComment">comment</label>
              </div>
            </div>

          </div>
          <div id="sendPaymentPopup" class="formContent" style="display:none;">
            <div class="formTop">
              <div class="circleIcon active"><img class="coinIcon coinBig" src=""/></div>
              <img class="actionLeft" src="icons/cancel.png"/>
              <img class="actionRight" src="icons/submit.send.png"/>
            </div>
            <div class="formActions row">
              <button class="f1 cancel" onclick="app.closeForm()"><img src="icons/ico.cancel.png"/> cancel</button>
              <button class="normalSend f1 submit" onclick="app.sendPayment()">send <img src="icons/ico.send.png"/></button>
              <button class="socialSend f1 submit" onclick="app.sendSocialPayment()">send <img src="icons/ico.send.png"/></button>
            </div>
            <div class="normalSend formButtons row">
              <button class="f1" onclick="app.pasteClipboard(app.pasteToSendForm.bind(app))">
                paste
                <img src="icons/paste.png"/>
              </button>
              <button class="f1" onclick="app.scanQrCode(app.pasteToSendForm.bind(app))">
                <img src="icons/scan.png"/>
                scan
              </button>
            </div>
            <div class="formFields">
              <div class="normalSend field">
                <input
                  id="sendCoinAddr"
                  onfocus="app.sendCoinValidateAddr(true)"
                  onblur="app.sendCoinValidateAddr()"
                  required
                />
                <label for="sendCoinAddr">recipient address</label>
                <div class="legend"></div>
              </div>

              <div class="row">
                <div class="field f1">
                  <input
                    id="sendCoinAmount"
                    type="number"
                    step="0.000000000001"
                    class="has-unit"
                    onfocus="app.sendCoinValidateAmount(true)"
                    onblur="app.sendCoinValidateAmount()"
                    onchange="app.sendCoinUpdateValue()"
                    onkeyup="app.sendCoinUpdateValue()"
                    required
                  />
                  <span class="input-unit" id="sendCoinName"></span>
                  <label for="sendCoinAmount">amount</label>
                  <div class="legend"></div>
                </div>
                <div class="equalizer">
                  =
                </div>
                <div class="field f1">
                  <input
                    id="sendCoinValue"
                    type="number"
                    step="0.000000000001"
                    class="has-unit"
                    onfocus="app.sendCoinValidateAmount(true)"
                    onblur="app.sendCoinValidateAmount()"
                    onchange="app.sendCoinUpdateAmount()"
                    onkeyup="app.sendCoinUpdateAmount()"
                    required
                  />
                  <span class="input-unit" id="sendFiatName"></span>
                  <label for="sendCoinAmount">equivalent</label>
                  <div class="legend"></div>
                </div>
              </div>

              <div class="field">
                <div class="range-input">
                  <input id="sendCoinFee" oninput="app.sendCoinUpdateFee()" type="range" min="0" max="100" step="1"/>
                </div>

                <div class="row fee">
                  <div class="f3" style="text-align:left;">
                    fee: <strong><span id="feeAmount">0</span></strong>
                  </div>
                  <div class="f2" style="text-align:right;">
                    est. time: <strong><span id="feeTime">0 min</span></strong>
                  </div>
                </div>
              </div>
            </div>

          </div>
          <div id="receivePaymentPopup" class="formContent" style="display:none;">
            <div class="formTop">
              <div class="circleIcon active"><img class="coinIcon coinBig" src=""/></div>
              <img class="actionLeft" src="icons/cancel.png"/>
              <img class="actionRight" src="icons/submit.copy.png"/>
            </div>
            <div class="formActions row">
              <button class="f1 cancel" onclick="app.closeForm()"><img src="icons/ico.cancel.png"/> close</button>
              <button class="f1 submit" onclick="app.copyReceiveCoinAddrToClp()">copy <img src="icons/ico.copy.png"/></button>
            </div>

            <div class="receiveAddr">
              <label><span id="receiveCoinName"></span></label>
              <textarea readonly="readonly" id="receiveCoinAddr"></textarea>
            </div>
            <div id="receiveCoinQrcode"></div>
          </div>


          <div id="exportPrivateKeyPopup" class="formContent" style="display:none;">
            <div class="formTop">
              <div class="circleIcon active"><img class="coinIcon coinBig" src=""/></div>
              <img class="actionLeft" src="icons/cancel.png"/>
            </div>

            <div class="formActions row">
              <button class="f1 cancel" onclick="app.closeForm()"><img src="icons/ico.cancel.png"/> cancel</button>
            </div>

            <div class="unpad stitch"></div>
            <div id="privateKeyValue"></div>
          </div>

          <div id="importPrivateKeyPopup" class="formContent" style="display:none;">
            <div class="formTop">
              <div class="circleIcon active"><img class="coinIcon coinBig" src=""/></div>
              <img class="actionLeft" src="icons/cancel.png"/>
              <img class="actionRight" src="icons/submit.png"/>
            </div>

            <div class="formActions row">
              <button class="f1 cancel" onclick="app.closeForm()"><img src="icons/ico.cancel.png"/> cancel</button>
              <button class="f1 submit" onclick="app.importPrivateKey()">import <img src="icons/ico.send.png"/></button>
            </div>

            <div class="spacing row">
              <button class="f1" onclick="app.pasteClipboard(app.pasteToField.bind(app, 'importPrivateKeyInput'))">
                paste
                <img src="icons/paste.png"/>
              </button>
              <button class="f1" onclick="app.scanQrCode(app.pasteToField.bind(app, 'importPrivateKeyInput'))">
                <img src="icons/scan.png"/>
                scan
              </button>
            </div>

            <div class="unpad stitch"></div>

            <div class="field">
              <label for="importPrivateKeyInput">key value:</label>
              <input id="importPrivateKeyInput" value=""/>
            </div>
            <div class="spacing">&nbsp;</div>
          </div>

        </div>

        <div id="messages">
        </div>

        <div id="lockPopup" class="hidden">
            <div id="lockPopupContent">
              <h1 id="lockTitle">Confirm</h1>
              <div class="stitch"></div>
              <div id="lockMessage" class="spacing">
                confirm
              </div>
              <div class="spacing row">
                <button id="lockPopupCancel" class="f1" onclick="app.cancelAuth()">
                  <img src="icons/no.png" alt="menu"/>
                  cancel
                </button>
                <button class="f1" onclick="app.confirmAuth()">
                  <img src="icons/yes.png" alt="menu"/>
                  confirm
                </button>
              </div>
            </div>
        </div>

        <script type="text/javascript" src="cordova.js"></script>

        <script type="text/javascript" src="js/legacy.js"></script>

        <script type="text/javascript" src="vendor/qrcode.js"></script>
        <script type="text/javascript" src="vendor/web3.js"></script>
        <script type="text/javascript" src="vendor/btcjs.js"></script>
        <script type="text/javascript" src="vendor/range-slider.min.js"></script>

        <script type="text/javascript" src="js/fasttap.js"></script>
        <script type="text/javascript" src="js/database.js"></script>
        <script type="text/javascript" src="js/logger.js"></script>
        <script type="text/javascript" src="js/settings.js"></script>

        <script type="text/javascript" src="js/coin.apis.btcjs.js"></script>
        <script type="text/javascript" src="js/coin.apis.web3js.js"></script>
        <script type="text/javascript" src="js/coin.apis.cmc.js"></script>
        <script type="text/javascript" src="js/price.providers.js"></script>

        <script type="text/javascript" src="js/widget.wallet.js"></script>
        <script type="text/javascript" src="js/widget.asset.js"></script>
        <script type="text/javascript" src="js/widget.select.js"></script>
        <script type="text/javascript" src="js/widget.coinbutton.js"></script>
        <script type="text/javascript" src="js/changelog.js"></script>
        <script type="text/javascript" src="js/app.js"></script>
    </body>
</html>
